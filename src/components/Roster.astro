---
import buildTheme from '../sanity/buildTheme'
import RosterItem from './RosterItem.astro'

const { artists } = Astro.props
---
<ul class="roster-artists">

  {artists.map(artist => 
    <RosterItem
      artist={artist}
      theme={artist.blog_theme && artist.blog_theme.profile ? 
        buildTheme({site: artist.blog_theme}).reduce((acc, obj) => ({...acc, [obj.key]: obj.value}), {}) :
        {}
      }
     />
  )}

</ul>
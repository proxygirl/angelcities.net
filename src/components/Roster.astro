---
import buildTheme from '../sanity/buildTheme'

import Card from './Card.astro'
import RosterItem from './RosterItem.astro'


const { artists } = Astro.props
---

<ul class="roster-artists">
{artists.map(artist => 
  <RosterItem
    artist={artist}
    theme={artist.blog_theme ? buildTheme(artist.blog_theme).reduce((acc, obj) => ({...acc, [obj.key]: obj.value}), {}) : {}}
   />
)}
</ul>